<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кто украл мою рыбу?</title>
    <link rel="shortcut icon" href="img/icon.png" type="image/x-icon">
    <style>
        :root {
            --bg: #121212;
            --panel: #1E1E1E;
            --card: #252525;
            --primary: #e2b691;
            --primary-variant: #3700B3;
            --secondary: #5096b0;
            --error: #CF6679;
            --text: #E1E1E1;
            --text-secondary: #A0A0A0;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }

        .logo h1 {
            margin: 0;
            font-size: 1.8rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-text-fill-color: transparent;
        }

        .tabs {
            display: flex;
            margin: 30px 0 20px;
            border-bottom: 1px solid #333;
        }

        .tab {
            padding: 12px 25px;
            cursor: pointer;
            position: relative;
            color: var(--text-secondary);
            font-weight: 500;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--primary);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary);
        }

        .tab:hover {
            color: var(--text);
            background-color: rgba(255, 255, 255, 0.05);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tab-content.active {
            display: block;
        }

        /* Обновленные стили для вкладки теории */
        .theory-intro {
            background: var(--card) !important;
            padding: 30px !important;
            border-radius: 12px !important;
            margin-bottom: 30px !important;
            border-left: 5px solid var(--secondary) !important;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2) !important;
            position: relative !important;
            overflow: hidden !important;
        }

        .theory-intro h3 {
            color: var(--primary) !important;
            font-size: 1.8rem !important;
            line-height: 1.3 !important;
            margin-bottom: 15px !important;
        }

        .theory-intro p {
            color: var(--text) !important;
            font-size: 1.1rem !important;
            line-height: 1.7 !important;
        }

        .murka-comment {
            background: var(--card) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: none !important;
        }

        .theory-section {
            background: var(--card) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1) !important;
            padding: 30px !important;
            border-radius: 12px !important;
            margin-bottom: 30px !important;
        }

        .theory-section h3 {
            color: var(--text) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
            padding-bottom: 10px !important;
        }

        /* Карточки с историей */
        .theory-section>div>div {
            background: rgba(255, 255, 255, 0.03) !important;
            border: 1px solid rgba(255, 255, 255, 0.05) !important;
            transition: all 0.3s ease !important;
        }

        .theory-section>div>div:hover {
            transform: translateY(-5px) !important;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2) !important;
        }

        /* Кошачьи принципы - переделаем */
        .theory-section:last-child {
            background: var(--panel) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2) !important;
        }

        .theory-section:last-child h3 {
            color: var(--secondary) !important;
            text-align: center !important;
            border: none !important;
        }

        .theory-section:last-child>div>div {
            background: rgba(3, 218, 198, 0.05) !important;
            border: 1px solid rgba(3, 218, 198, 0.1) !important;
        }

        /* Кнопка начала обучения */
        #start-learning {
            background: var(--secondary) !important;
            color: #000 !important;
            box-shadow: 0 4px 15px rgba(3, 218, 198, 0.3) !important;
        }

        #start-learning:hover {
            background: var(--primary) !important;
            box-shadow: 0 6px 20px rgba(187, 134, 252, 0.4) !important;
        }

        .game-card {
            background-color: var(--card);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
        }

        .game-title {
            margin: 0;
            color: var(--primary);
            font-size: 1.5rem;
        }

        .game-difficulty {
            display: flex;
            gap: 5px;
        }

        .difficulty-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--text-secondary);
        }

        .difficulty-dot.active {
            background-color: var(--secondary);
        }

        .game-description {
            color: var(--text-secondary);
            margin-bottom: 25px;
        }

        .game-content {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        /* .game-visual {
            flex: 1;
            min-width: 300px;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px dashed #444;
        } */

        .character {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
            box-shadow: 0 0 20px rgba(187, 134, 252, 0.3);
            margin-bottom: 15px;
            transition: all 0.3s;
        }

        .character:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(187, 134, 252, 0.5);
        }

        .game-controls {
            flex: 1;
            min-width: 300px;
        }

        .btn {
            background-color: var(--primary);
            color: #000;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .btn:hover {
            background-color: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(3, 218, 198, 0.3);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: rgba(187, 134, 252, 0.1);
            color: var(--text);
        }

        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .slider-container {
            margin: 25px 0;
        }

        .slider-container input[type="range"] {
            width: 100%;
            height: 6px;
            background: #444;
            border-radius: 3px;
            outline: none;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
        }

        .results {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-top: 25px;
            border-left: 4px solid var(--primary);
            display: none;
        }

        .results h3 {
            margin-top: 0;
            color: var(--secondary);
        }

        .resource {
            display: inline-flex;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 5px 12px;
            margin-right: 10px;
            font-size: 0.9rem;
        }

        .resource-icon {
            margin-right: 5px;
            font-size: 1rem;
        }

        .murka-comment {
            background-color: var(--card);
            border-radius: 12px !important;
            border-left: 5px solid var(--secondary) !important;
            padding: 20px;
            padding-bottom: 25px;
            margin-top: 30px;
            position: relative;
            border: 1px solid #333;
        }

        .murka-comment::before {
            content: "";
            position: absolute;
            top: -10px;
            left: 30px;
            width: 20px;
            height: 20px;
            background-color: var(--card);
            transform: rotate(45deg);
            border-top: 1px solid #333;
            border-left: 1px solid #333;
            z-index: -1;
        }

        .murka-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            float: left;
            margin-right: 15px;
            border: 2px solid var(--primary);
        }

        .comment-text {
            overflow: hidden;
        }

        .comment-text p {
            margin-top: 0;
        }

        .comment-author {
            color: var(--primary);
            font-weight: 500;
        }

        .emoji-result {
            font-size: 2rem;
            margin: 10px 0;
            text-align: center;
        }

        .outcome-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: rgba(0, 0, 0, 0.1);
        }

        .outcome-table th,
        .outcome-table td {
            border: 1px solid #333;
            padding: 10px;
            text-align: center;
        }

        .outcome-table th {
            background-color: rgba(187, 134, 252, 0.1);
            color: var(--primary);
        }

        .highlight {
            background-color: var(--secondary);
        }

        .simple-explanation {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 15px;
            margin: 15px 0;
        }

        .simple-explanation h4 {
            margin-top: 0;
            color: var(--secondary);
        }

        @media (max-width: 768px) {
            .game-content {
                flex-direction: column;
            }

            .tabs {
                overflow-x: auto;
                padding-bottom: 10px;
            }

            .tab {
                padding: 10px 15px;
                white-space: nowrap;
            }
        }

        /* Анимации */
        @keyframes pulse {
            0% {
                opacity: 0.6;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.6;
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Специфические стили для уровней */
        #prisoners-dilemma .character {
            border-color: var(--secondary);
            box-shadow: 0 0 20px rgba(3, 218, 198, 0.3);
        }

        #battle-for-couch .character {
            border-color: #FF6B35;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
        }

        #fish-auction .character {
            border-color: #FFD166;
            box-shadow: 0 0 20px rgba(255, 209, 102, 0.3);
        }

        .project-title {
            text-align: center;
            position: relative;
            overflow: hidden;
        }


        .project-title h1 {
            color: #fff;
            font-size: 3.5rem;
            margin-bottom: 0;
            line-height: 1.2;
            font-weight: 800;
            letter-spacing: 1px;
            text-transform: uppercase;
            position: relative;
            display: inline-block;
            padding: 0 30px;
            text-shadow: 0 2px 10px rgba(187, 134, 252, 0.5);
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        .project-title p {
            color: var(--text-secondary);
            font-size: 1.4rem;
            margin: 15px auto 0;
            font-weight: 300;
            max-width: 600px;
            position: relative;
            padding: 10px 20px;
            backdrop-filter: blur(5px);
        }

        .project-title p::before {
            content: "";
            position: absolute;
            top: 0;
            left: 20px;
            right: 20px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
        }

        @keyframes titleGlow {
            0% {
                text-shadow: 0 2px 10px rgba(187, 134, 252, 0.3);
            }

            100% {
                text-shadow: 0 2px 20px rgba(3, 218, 198, 0.5);
            }
        }

        @media (max-width: 768px) {
            .project-title h1 {
                font-size: 2.2rem;
                padding: 0 15px;
            }

            .project-title p {
                font-size: 1.1rem;
                padding: 8px 15px;
            }
        }

        @media (max-width: 480px) {
            .project-title h1 {
                font-size: 1.8rem;
            }

            .project-title p {
                font-size: 1rem;
            }
        }

        .resource-display {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            justify-content: center;
        }

        .resource-counter {
            background: var(--card);
            padding: 12px 20px;
            border-radius: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
            border: 1px solid var(--primary);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .resource-counter .resource-icon {
            font-size: 1.3rem;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div class="container">
            <div class="project-title">
                <h1>Кто украл мою рыбу?</h1>
                <p>Практикум по теории игр</p>
            </div>
        </div>
    </header>
    <div class="container">
        <div class="tabs">
            <div class="tab active" data-tab="theory">Теория</div>
            <div class="tab" data-tab="prisoners-dilemma">Рыбная дилемма</div>
            <div class="tab" data-tab="battle-for-couch">Битва за диван</div>
            <div class="tab" data-tab="fish-auction">Рыбный аукцион</div>
            <div class="tab" data-tab="mouse-hunt">Охота на мышь</div>
        </div>
        <!-- Вкладка с теорией -->
        <div id="theory" class="tab-content active">
            <div class="game-card">

                <div class="game-content">
                    <div class="game-controls" style="max-width: 100%;">
                        <!-- Вступительный блок -->
                        <div class="theory-intro">
                            <div style="position: relative; z-index: 1;">
                                <h3 style="margin-top: 0; font-size: 2rem; line-height: 1.3;">
                                    Искусство кошачьей стратегии
                                </h3>
                                <p style="color: white;">
                                    Теория игр — это наука о стратегическом взаимодействии, где результат зависит от
                                    действий всех участников.
                                    Для кота это повседневность: от дележа еды до выбора лучшего места для сна.
                                </p>
                            </div>
                        </div>

                        <!-- Комментарий Мурки -->
                        <div class="murka-comment" style="margin: 40px 0; background:  var(--card);
                    border: none;
                    box-shadow: 0 5px 25px rgba(0,0,0,0.3);
                    position: relative;">
                            <img src="img/murka2.png" class="murka-avatar" style="border-width: 3px;">
                            <div class="comment-text">
                                <span class="comment-author" style="font-size: 1.1rem;">Murka-Sensei:</span>
                                <p style="font-size: 1.05rem;">"Когда два кота встречаются у одной миски — это чистейшая
                                    теория игр! Сотрудничать или конфликтовать? Делиться или драться? Каждый выбор имеет
                                    последствия."</p>
                            </div>
                        </div>

                        <!-- Историческая справка -->
                        <div class="theory-section" style="margin-bottom: 50px;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
                                <div style="width: 40px; height: 40px; background: var(--primary-variant); 
                            border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <span style="font-size: 1.5rem;">📜</span>
                                </div>
                                <h3 style="margin: 0; color: var(--primary); font-size: 1.5rem;">Историческая лапка</h3>
                            </div>

                            <div
                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px;">
                                <div style="background: var(--card); padding: 25px; border-radius: 12px; 
                            border-top: 4px solid var(--secondary); transition: all 0.3s ease; 
                            box-shadow: 0 5px 15px rgba(0,0,0,0.2);"
                                    onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.3)'"
                                    onmouseout="this.style.transform='none'; this.style.boxShadow='0 5px 15px rgba(0,0,0,0.2)'">
                                    <div style="background: linear-gradient(135deg, var(--primary-variant), var(--primary)); 
                                width: 60px; height: 60px; border-radius: 50%; display: flex; 
                                align-items: center; justify-content: center; margin-bottom: 20px;">
                                        <span style="font-size: 2rem;">🐈</span>
                                    </div>
                                    <h4 style="margin-top: 0; color: var(--secondary); font-size: 1.2rem;">Древние
                                        предки</h4>
                                    <p style="line-height: 1.7;">Дикие кошки использовали принципы теории игр для
                                        распределения территории и охотничьих угодий задолго до появления человека.</p>
                                </div>

                                <div style="background: var(--card); padding: 25px; border-radius: 12px; 
                            border-top: 4px solid var(--primary); transition: all 0.3s ease;
                            box-shadow: 0 5px 15px rgba(0,0,0,0.2);"
                                    onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.3)'"
                                    onmouseout="this.style.transform='none'; this.style.boxShadow='0 5px 15px rgba(0,0,0,0.2)'">
                                    <div style="background: linear-gradient(135deg, var(--primary-variant), var(--primary)); 
                                width: 60px; height: 60px; border-radius: 50%; display: flex; 
                                align-items: center; justify-content: center; margin-bottom: 20px;">
                                        <span style="font-size: 2rem;">📚</span>
                                    </div>
                                    <h4 style="margin-top: 0; color: var(--secondary); font-size: 1.2rem;">1944 год</h4>
                                    <p style="line-height: 1.7;">Джон фон Нейман и Оскар Моргенштерн формализовали
                                        теорию игр, но коты интуитивно понимали её принципы веками.</p>
                                </div>

                                <div style="background: var(--card); padding: 25px; border-radius: 12px; 
                            border-top: 4px solid var(--secondary); transition: all 0.3s ease;
                            box-shadow: 0 5px 15px rgba(0,0,0,0.2);"
                                    onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 10px 25px rgba(0,0,0,0.3)'"
                                    onmouseout="this.style.transform='none'; this.style.boxShadow='0 5px 15px rgba(0,0,0,0.2)'">
                                    <div style="background: linear-gradient(135deg, var(--primary-variant), var(--primary)); 
                                width: 60px; height: 60px; border-radius: 50%; display: flex; 
                                align-items: center; justify-content: center; margin-bottom: 20px;">
                                        <span style="font-size: 2rem;">💡</span>
                                    </div>
                                    <h4 style="margin-top: 0; color: var(--secondary); font-size: 1.2rem;">Современность
                                    </h4>
                                    <p style="line-height: 1.7;">Используется в экономике, политике, биологии и,
                                        конечно, в кошачьих делах — от дележа дивана до стратегий охоты.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Основные концепции -->
                        <div class="theory-section" style="margin-bottom: 50px; 
                    background: linear-gradient(to bottom, var(--panel), var(--bg));
                    padding: 40px 30px; 
                    border-radius: 15px; 
                    border: 1px solid var(--primary-variant);
                    box-shadow: 0 10px 30px rgba(124, 16, 151, 0.2);">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 30px;">
                                <div style="width: 40px; height: 40px; background: var(--primary-variant); 
                            border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <span style="font-size: 1.5rem;">🐾</span>
                                </div>
                                <h3 style="margin: 0; color: var(--primary); font-size: 1.5rem;">Основные концепции</h3>
                            </div>

                            <div
                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 25px;">
                                <div style="background: rgba(187, 134, 252, 0.05); padding: 25px; 
                            border-radius: 10px; border-left: 4px solid var(--primary);
                            transition: all 0.3s; border: 1px solid rgba(187, 134, 252, 0.2);">
                                    <h4 style="margin-top: 0; color: var(--secondary); display: flex; 
                                align-items: center; gap: 15px; font-size: 1.1rem;">
                                        <span style="background: var(--primary); color: #000; width: 35px; 
                                    height: 35px; border-radius: 50%; display: flex; align-items: center; 
                                    justify-content: center; font-weight: bold;">1</span> Игроки
                                    </h4>
                                    <p style="line-height: 1.7;">Все участники взаимодействия: ты, другие коты, хозяева,
                                        даже собаки. Каждый преследует свои цели.</p>
                                    <span style="color: var(--text-secondary);">Пример: Вы и Барсик у миски с
                                        рыбой</span>
                                </div>

                                <div style="background: rgba(3, 218, 198, 0.05); padding: 25px; 
                            border-radius: 10px; border-left: 4px solid var(--secondary);
                            transition: all 0.3s; border: 1px solid rgba(3, 218, 198, 0.2);">
                                    <h4 style="margin-top: 0; color: var(--secondary); display: flex; 
                                align-items: center; gap: 15px; font-size: 1.1rem;">
                                        <span style="background: var(--secondary); color: #000; width: 35px; 
                                    height: 35px; border-radius: 50%; display: flex; align-items: center; 
                                    justify-content: center; font-weight: bold;">2</span> Стратегии
                                    </h4>
                                    <p style="line-height: 1.7;">Варианты действий: сотрудничать, конфликтовать,
                                        договариваться, обманывать или избегать взаимодействия.</p>
                                    <span style="color: var(--text-secondary);">Пример: Поделиться рыбой или украсть
                                        её</span>
                                </div>

                                <div style="background: rgba(3, 218, 198, 0.05); padding: 25px; 
                            border-radius: 10px; border-left: 4px solid var(--secondary);
                            transition: all 0.3s; border: 1px solid rgba(3, 218, 198, 0.2);">
                                    <h4 style="margin-top: 0; color: var(--secondary); display: flex; 
                                align-items: center; gap: 15px; font-size: 1.1rem;">
                                        <span style="background: var(--secondary); color: #000; width: 35px; 
                                    height: 35px; border-radius: 50%; display: flex; align-items: center; 
                                    justify-content: center; font-weight: bold;">3</span> Выигрыш
                                    </h4>
                                    <p style="line-height: 1.7;">Результат игры: еда, территория, комфорт, безопасность
                                        или социальный статус в кошачьем сообществе.</p>
                                    <span style="color: var(--text-secondary);">Пример: Количество полученной
                                        рыбы</span>
                                </div>

                                <div style="background: rgba(187, 134, 252, 0.05); padding: 25px; 
                            border-radius: 10px; border-left: 4px solid var(--primary);
                            transition: all 0.3s; border: 1px solid rgba(187, 134, 252, 0.2);">
                                    <h4 style="margin-top: 0; color: var(--secondary); display: flex; 
                                align-items: center; gap: 15px; font-size: 1.1rem;">
                                        <span style="background: var(--primary); color: #000; width: 35px; 
                                    height: 35px; border-radius: 50%; display: flex; align-items: center; 
                                    justify-content: center; font-weight: bold;">4</span> Равновесие
                                    </h4>
                                    <p style="line-height: 1.7;">Ситуация, где ни один игрок не хочет менять стратегию
                                        при неизменных действиях других.</p>
                                    <span style="color: var(--text-secondary);">Пример: Стабильное распределение мест
                                        для сна</span>
                                </div>
                            </div>
                        </div>

                        <!-- Кошачьи принципы -->
                        <div class="theory-section" style="background: linear-gradient(135deg, var(--primary-variant), #5e0c7a); 
                    padding: 40px; border-radius: 15px; margin-bottom: 50px;
                    box-shadow: 0 15px 35px rgba(124, 16, 151, 0.4);
                    position: relative;
                    overflow: hidden;">
                            <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%"><text x=\"10\"
                                    y=\"50\" font-family=\"Arial\" font-size=\"20\" fill=\"rgba(255,255,255,0.05)\">
                            </div>

                            <div style="position: relative; z-index: 1; text-align: center">
                                <h3 style="color: #fff; margin-top: 0; font-size: 1.8rem; margin-bottom: 30px;">
                                    <span style="font-size: 2.5rem;">🐈‍</span><br>
                                    Кошачьи стратегические принципы
                                </h3>

                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
                            gap: 30px; margin-top: 30px;">
                                    <div style="background: rgba(255, 255, 255, 0.1); padding: 30px; 
                                border-radius: 12px; backdrop-filter: blur(5px);
                                border: 1px solid rgba(255,255,255,0.15);
                                transition: all 0.3s ease;">
                                        <div style="width: 60px; height: 60px; background: rgba(255,255,255,0.2); 
                                    border-radius: 50%; display: flex; align-items: center; 
                                    justify-content: center; margin: 0 auto 20px;">
                                            <span style="font-size: 2rem;">🔮</span>
                                        </div>
                                        <h4 style="margin-top: 0; color: var(--secondary); font-size: 1.3rem;">
                                            Думай на шаг вперёд
                                        </h4>
                                        <p style="line-height: 1.7;">Анализируй не только свои действия, но и возможные
                                            реакции других котов. Что сделает Барсик, если ты украдешь его рыбу?</p>
                                    </div>

                                    <div style="background: rgba(255, 255, 255, 0.1); padding: 30px; 
                                border-radius: 12px; backdrop-filter: blur(5px);
                                border: 1px solid rgba(255,255,255,0.15);
                                transition: all 0.3s ease;">
                                        <div style="width: 60px; height: 60px; background: rgba(255,255,255,0.2); 
                                    border-radius: 50%; display: flex; align-items: center; 
                                    justify-content: center; margin: 0 auto 20px;">
                                            <span style="font-size: 2rem;">🤝</span>
                                        </div>
                                        <h4 style="margin-top: 0; color: var(--secondary); font-size: 1.3rem;">
                                            Цени сотрудничество
                                        </h4>
                                        <p style="line-height: 1.7;">Две половинки рыбы лучше, чем ничего! В
                                            долгосрочной перспективе репутация надежного партнёра окупается.</p>
                                    </div>

                                    <div style="background: rgba(255, 255, 255, 0.1); padding: 30px; 
                                border-radius: 12px; backdrop-filter: blur(5px);
                                border: 1px solid rgba(255,255,255,0.15);
                                transition: all 0.3s ease;">
                                        <div style="width: 60px; height: 60px; background: rgba(255,255,255,0.2); 
                                    border-radius: 50%; display: flex; align-items: center; 
                                    justify-content: center; margin: 0 auto 20px;">
                                            <span style="font-size: 2rem;">🔄</span>
                                        </div>
                                        <h4 style="margin-top: 0; color: var(--secondary); font-size: 1.3rem;">
                                            Учитывай повторение
                                        </h4>
                                        <p style="line-height: 1.7;">Если взаимодействие повторяется (как с домашними
                                            котами), стратегия "зуб за зуб" часто эффективнее однократного обмана.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Заключительный комментарий Мурки -->
                        <div class="murka-comment" style="margin-top: 60px; 
                   background: var(--secondary);
                    border: none;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                    position: relative;
                    padding: 30px;">
                            <img src="img/murka2.png" class="murka-avatar"
                                style="width: 70px; height: 70px; border-width: 3px;">
                            <div class="comment-text">
                                <span class="comment-author"
                                    style="font-size: 1.2rem; display: block; margin-bottom: 10px;">Murka-Sensei:</span>
                                <p style="font-size: 1.1rem; line-height: 1.7;">"Помни, мудрый кот думает не только о
                                    сиюминутной выгоде, но и о долгосрочных последствиях! Иногда лучше потерять одну
                                    рыбу сегодня, чтобы завтра получить две. Теория игр — это не просто наука, это
                                    искусство кошачьей жизни."</p>
                            </div>
                        </div>

                        <!-- Кнопка перехода к практике -->
                        <div style="text-align: center; margin-top: 50px;">
                            <button class="btn" style="padding: 18px 50px; font-size: 1.3rem; 
                        background: linear-gradient(90deg, var(--primary), var(--secondary));
                        border: none;
                        box-shadow: 0 5px 25px rgba(187, 134, 252, 0.4);
                        transition: all 0.3s ease;"
                                onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 30px rgba(187, 134, 252, 0.6)'"
                                onmouseout="this.style.transform='none'; this.style.boxShadow='0 5px 25px rgba(187, 134, 252, 0.4)'"
                                id="start-learning">
                                Применить знания на практике!
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Вкладка с дилеммой заключенного -->
        <div id="prisoners-dilemma" class="tab-content">
            <div class="game-card">
                <div class="game-header">
                    <h2 class="game-title">Рыбная дилемма</h2>
                    <div class="game-difficulty">
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot"></div>
                        <div class="difficulty-dot"></div>
                        <div class="difficulty-dot"></div>
                    </div>
                </div>

                <div class="murka-comment" style="margin-bottom: 20px;">
                    <img src="img/murka2.png" class="murka-avatar">
                    <div class="comment-text">
                        <span class="comment-author">Murka-Sensei:</span>
                        <p>"Классика кошачьей дипломатии! Одна рыба на двоих - будешь сотрудничать или предашь? Помни:
                            твой выбор влияет не только на эту игру, но и на будущие отношения с Барсиком!"</p>
                    </div>
                </div>

                <div class="simple-explanation" style="margin-bottom: 25px;">
                    <h4>🐟 Вы и Барсик одновременно нашли одну рыбу. Ваши действия:</h4>
                    <ul>
                        <li><strong>Поделиться</strong> - риск быть обманутым, но возможна взаимная выгода</li>
                        <li><strong>Украсть</strong> - краткосрочная выгода, но потеря доверия</li>
                        <li><strong>Договориться</strong> - сложный путь, но может привести к лучшему результату</li>
                    </ul>
                </div>

                <div class="game-content">
                    <div>
                        <img src="img/lexsa1.jpg" style="width: 580px; margin: 20px 0; border-radius: 20px; box-shadow: 0 10px 20px rgba(0, 0, 0, 1);">
                    </div>

                    <div class="game-controls">
                        <div class="resource-display">
                            <div class="resource-counter">
                                <span class="resource-icon">🐟</span>
                                <span id="total-fish">0</span>
                            </div>
                            <div class="resource-counter">
                                <span class="resource-icon">🧠</span>
                                <span id="total-wisdom">0</span>
                            </div>
                        </div>
                        <h3>Что будешь делать?</h3>
                        <div class="btn-group">
                            <button class="btn" id="pd-share">🤝 Поделиться</button>
                            <button class="btn btn-outline" id="pd-steal">😼 Украсть</button>
                            <button class="btn btn-outline" id="pd-negotiate">💬 Договориться</button>
                        </div>

                        <div class="slider-container" id="pd-negotiate-slider" style="display: none;">
                            <p>Сколько готов отдать Барсику:</p>
                            <input type="range" min="0" max="100" value="50" id="pd-negotiate-value">
                            <div style="display: flex; justify-content: space-between;">
                                <span>0%</span>
                                <span>50%</span>
                                <span>100%</span>
                            </div>
                            <button class="btn" style="margin-top: 10px;" id="pd-confirm-negotiate">Подтвердить</button>
                        </div>

                        <table class="outcome-table">
                            <tr>
                                <th>Ваш выбор \ Барсик</th>
                                <th>Поделится</th>
                                <th>Украдёт</th>
                            </tr>
                            <tr>
                                <td>Поделиться</td>
                                <td class="highlight">🥰 Оба получают по 0.5</td>
                                <td>😢 Ты 0, Барсик 1</td>
                            </tr>
                            <tr>
                                <td>Украсть</td>
                                <td>😎 Ты 1, Барсик 0</td>
                                <td>😱 Оба получают 0</td>
                            </tr>
                        </table>

                        <div id="pd-results" class="results">
                            <h3>Результат:</h3>
                            <div class="emoji-result" id="pd-emoji-result"></div>
                            <p id="pd-result-text"></p>
                            <div style="margin-top: 15px;">
                                <span class="resource"><span class="resource-icon">🧠</span> <span
                                        id="pd-wisdom">+0</span> мудрости</span>
                                <span class="resource"><span class="resource-icon">🐟</span> <span
                                        id="pd-fish">+0</span> рыбы</span>
                            </div>
                            <button class="btn" style="margin-top: 15px;" id="pd-try-again">Играть ещё</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Вкладка "Битва за диван" -->
        <div id="battle-for-couch" class="tab-content">
            <div class="game-card">
                <div class="game-header">
                    <h2 class="game-title">Битва за диван</h2>
                    <div class="game-difficulty">
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot"></div>
                        <div class="difficulty-dot"></div>
                    </div>
                </div>

                <div class="murka-comment" style="margin-bottom: 20px;">
                    <img src="img/murka2.png" class="murka-avatar">
                    <div class="comment-text">
                        <span class="comment-author">Murka-Sensei:</span>
                        <p>"Лучший угол дивана - ограниченный ресурс! Агрессия может принести победу, но какой ценой?
                            Иногда мягкие лапки достигают большего, чем острые когти."</p>
                    </div>
                </div>

                <div class="simple-explanation" style="margin-bottom: 25px;">
                    <h4>🛋️ Пушистик приближается к вашему любимому месту. Ваши действия:</h4>
                    <ul>
                        <li><strong>Занять первым</strong> - риск конфликта, но шанс получить всё</li>
                        <li><strong>Поделить</strong> - гарантированная часть, но не весь диван</li>
                        <li><strong>Драка</strong> - может принести победу или полное поражение</li>
                    </ul>
                    <p>Помни: повторяющиеся взаимодействия требуют долгосрочной стратегии!</p>
                </div>

                <div class="game-content">
                    <div>
                        <img src="img/lexsa2.png" style="width: 580px; margin: 20px 0; border-radius: 20px; box-shadow: 0 10px 20px rgba(0, 0, 0, 1);">
                    </div>

                    <div class="game-controls">
                        <div class="resource-display">
                            <div class="resource-counter">
                                <span class="resource-icon">🐟</span>
                                <span id="total-fish">0</span>
                            </div>
                            <div class="resource-counter">
                                <span class="resource-icon">🧠</span>
                                <span id="total-wisdom">0</span>
                            </div>
                        </div>
                        <h3>Ваши действия:</h3>
                        <div class="btn-group">
                            <button class="btn" id="couch-claim">🛋️ Занять первым</button>
                            <button class="btn btn-outline" id="couch-share">😻 Предложить поделить</button>
                            <button class="btn btn-outline" id="couch-fight">😾 Начать драку</button>
                        </div>

                        <div class="simple-explanation">
                            <h4>📊 Возможные результаты:</h4>
                            <ul>
                                <li>Если оба хотят занять - начинается драка и оба проигрывают</li>
                                <li>Если один занимает, а другой уступает - занявший получает весь диван</li>
                                <li>Если оба решают поделить - каждый получает хорошее место</li>
                            </ul>
                        </div>

                        <div id="couch-results" class="results" style="display: none;">
    <h3>Результат:</h3>
    <div class="emoji-result" id="couch-emoji-result"></div>
    <p id="couch-result-text"></p>
    <div style="margin-top: 15px;">
        <span class="resource"><span class="resource-icon">🧠</span> <span
                id="couch-wisdom">+0</span> мудрости</span>
        <span class="resource"><span class="resource-icon">🐟</span> <span
                id="couch-fish">+0</span> рыбы</span>
    </div>
    <button class="btn" style="margin-top: 15px;" id="couch-try-again">Попробовать снова</button>
</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Вкладка "Рыбный аукцион" -->
        <div id="fish-auction" class="tab-content">
            <div class="game-card">
                <div class="game-header">
                    <h2 class="game-title">Рыбный аукцион</h2>
                    <div class="game-difficulty">
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot"></div>
                    </div>
                </div>

                <div class="murka-comment" style="margin-bottom: 20px;">
                    <img src="img/murka2.png" class="murka-avatar">
                    <div class="comment-text">
                        <span class="comment-author">Murka-Sensei:</span>
                        <p>"Золотой клубок того стоит? Осторожно! Азарт может заставить переплатить. Настоящий стратег
                            знает, когда остановиться."</p>
                    </div>
                </div>

                <div class="simple-explanation" style="margin-bottom: 25px;">
                    <h4>📈 Редкий экземпляр! Но сколько он действительно стоит?</h4>
                    <ul>
                        <li><strong>Низкая ставка</strong> - безопасно, но мало шансов выиграть</li>
                        <li><strong>Высокая ставка</strong> - больше шансов, но возможен убыток</li>
                        <li><strong>Оптимальная стратегия</strong> - ставь не больше реальной ценности клубка</li>
                    </ul>
                    <p>Победитель получает редкий клубок, но платит свою ставку. Подумай, что выгоднее!</p>
                </div>

                <div class="game-content">
                    <div>
                        <img src="img/lexsa3.jpg" style="width: 580px; margin: 20px 0; border-radius: 20px; box-shadow: 0 10px 20px rgba(0, 0, 0, 1);">
                    </div>

                    <div class="game-controls">
                        <div class="resource-display">
                            <div class="resource-counter">
                                <span class="resource-icon">🐟</span>
                                <span id="total-fish">0</span>
                            </div>
                            <div class="resource-counter">
                                <span class="resource-icon">🧠</span>
                                <span id="total-wisdom">0</span>
                            </div>
                        </div>
                        <h3>Твоя ставка (от 1 до 10 рыбинок):</h3>
                        <div class="btn-group">
                            <button class="btn" id="fish-bid-1">1 🐟</button>
                            <button class="btn" id="fish-bid-3">3 🐟</button>
                            <button class="btn" id="fish-bid-5">5 🐟</button>
                            <button class="btn btn-outline" id="fish-bid-custom">Другая сумма</button>
                        </div>

                        <div id="fish-custom-bid" style="display: none; margin-top: 15px;">
                            <input type="number" min="1" max="10" value="2" id="fish-bid-value"
                                style="padding: 8px; border-radius: 4px; background: #333; color: white; border: 1px solid #444; width: 60px;">
                            <button class="btn" style="margin-left: 10px;" id="fish-confirm-bid">Сделать ставку</button>
                        </div>

                        <div class="simple-explanation">
                            <h4>📌 Правила аукциона:</h4>
                            <ul>
                                <li>Клубок достанется тому, кто предложит больше</li>
                                <li>Но если переплатить - можно остаться в убытке</li>
                                <li>Если ставки равны - клубок делят пополам</li>
                            </ul>
                        </div>

                        <div id="fish-results" class="results" style="display: none;">
                            <h3>Результат аукциона:</h3>
                            <div class="emoji-result" id="fish-emoji-result"></div>
                            <p id="fish-result-text"></p>
                            <div style="margin-top: 15px;">
                                <span class="resource"><span class="resource-icon">🧠</span> <span
                                        id="fish-wisdom">+0</span> мудрости</span>
                                <span class="resource"><span class="resource-icon">🐟</span> <span
                                        id="fish-fish">+0</span> рыбы</span>
                            </div>
                            <button class="btn" style="margin-top: 15px;" id="fish-try-again">Играть ещё</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="mouse-hunt" class="tab-content">
            <div class="game-card">
                <div class="game-header">
                    <h2 class="game-title">Охота на мышь</h2>
                    <div class="game-difficulty">
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot active"></div>
                        <div class="difficulty-dot active"></div>
                    </div>
                </div>

                <div class="murka-comment" style="margin-bottom: 20px;">
                    <img src="img/murka2.png" class="murka-avatar">
                    <div class="comment-text">
                        <span class="comment-author">Murka-Sensei:</span>
                        <p>"Большая мышь требует совместных усилий! Но можно ли доверять Рыжику? Координация или эгоизм
                            - выбор за тобой."</p>
                    </div>
                </div>

                <div class="simple-explanation" style="margin-bottom: 25px;">
                    <h4>🐭 Вы заметили большую мышь - слишком крупную для одного охотника. Как лучше охотиться:</h4>
                    <ul>
                        <li><strong>Вместе</strong> - максимальная добыча, если Рыжик сотрудничает</li>
                        <li><strong>Один</strong> - гарантированная маленькая мышь, но безопасный вариант</li>
                    </ul>
                    <p>Это игра на доверие - выгоднее сотрудничать, но только если партнёр делает то же самое!</p>
                </div>

                <div class="game-content">
                    <div class="game-content">
                        <div>
                            <img src="img/leksa4.jpg" style="width: 580px; margin: 20px 0; border-radius: 20px; box-shadow: 0 10px 20px rgba(0, 0, 0, 1);">
                        </div>

                        <div class="game-controls">
                            <div class="resource-display">
                                <div class="resource-counter">
                                    <span class="resource-icon">🐟</span>
                                    <span id="total-fish">0</span>
                                </div>
                                <div class="resource-counter">
                                    <span class="resource-icon">🧠</span>
                                    <span id="total-wisdom">0</span>
                                </div>
                            </div>
                            <h3>Ваша стратегия:</h3>
                            <div class="btn-group">
                                <button class="btn" id="hunt-together">😽 Охотиться вместе</button>
                                <button class="btn btn-outline" id="hunt-alone">🐾 Охотиться в одиночку</button>
                            </div>

                            <table class="outcome-table">
                                <tr>
                                    <th>Выбор \ Рыжик</th>
                                    <th>Вместе</th>
                                    <th>Один</th>
                                </tr>
                                <tr>
                                    <td>Вместе</td>
                                    <td class="highlight">🥩 2 рыбы каждому</td>
                                    <td>😿 Вы 0, Рыжик 1</td>
                                </tr>
                                <tr>
                                    <td>Один</td>
                                    <td>😼 Вы 1, Рыжик 0</td>
                                    <td>🐭 1 рыба каждому</td>
                                </tr>
                            </table>

                            <div id="hunt-results" class="results" style="display: none;">
                                <h3>Результат охоты:</h3>
                                <div class="emoji-result" id="hunt-emoji-result"></div>
                                <p id="hunt-result-text"></p>
                                <div style="margin-top: 15px;">
                                    <span class="resource"><span class="resource-icon">🧠</span> <span
                                            id="hunt-wisdom">+0</span> мудрости</span>
                                    <span class="resource"><span class="resource-icon">🐟</span> <span
                                            id="hunt-fish">+0</span> рыбы</span>
                                </div>
                                <button class="btn" style="margin-top: 15px;" id="hunt-try-again">Охотиться
                                    снова</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Инициализация ресурсов
            let resources = {
                fish: 0,
                wisdom: 0
            };

            // Загрузка из localStorage
            function loadResources() {
                const saved = localStorage.getItem('catGameResources');
                if (saved) {
                    resources = JSON.parse(saved);
                }
                updateResourceDisplay();
            }

            // Сохранение в localStorage
            function saveResources() {
                localStorage.setItem('catGameResources', JSON.stringify(resources));
                updateResourceDisplay();
            }

            // Обновление отображения
            function updateResourceDisplay() {
                document.querySelectorAll('#total-fish').forEach(el => {
                    el.textContent = resources.fish.toFixed(1);
                });
                document.querySelectorAll('#total-wisdom').forEach(el => {
                    el.textContent = resources.wisdom;
                });
            }

            // Добавление ресурсов
            function addResources(fish = 0, wisdom = 0) {
                resources.fish += fish;
                resources.wisdom += wisdom;
                saveResources();
            }

            // Сброс ресурсов (для тестирования)
            function resetResources() {
                resources = { fish: 0, wisdom: 0 };
                saveResources();
            }

            // Загружаем ресурсы при старте
            loadResources();

            // Инициализация игры
            document.addEventListener('DOMContentLoaded', function () {
                // Переключение вкладок
                const tabs = document.querySelectorAll('.tab');
                const tabContents = document.querySelectorAll('.tab-content');

                tabs.forEach(tab => {
                    tab.addEventListener('click', function () {
                        // Убираем активный класс у всех вкладок
                        tabs.forEach(t => t.classList.remove('active'));
                        tabContents.forEach(c => c.classList.remove('active'));

                        // Добавляем активный класс текущей вкладке
                        this.classList.add('active');
                        const tabId = this.getAttribute('data-tab');
                        document.getElementById(tabId).classList.add('active');
                    });
                });

                // Начать обучение
                document.getElementById('start-learning').addEventListener('click', function () {
                    document.querySelector('.tab[data-tab="prisoners-dilemma"]').click();
                });

                // Логика рыбной дилеммы
                const pdButtons = {
                    share: document.getElementById('pd-share'),
                    steal: document.getElementById('pd-steal'),
                    negotiate: document.getElementById('pd-negotiate'),
                    confirm: document.getElementById('pd-confirm-negotiate'),
                    tryAgain: document.getElementById('pd-try-again')
                };

                const pdElements = {
                    slider: document.getElementById('pd-negotiate-slider'),
                    results: document.getElementById('pd-results'),
                    resultText: document.getElementById('pd-result-text'),
                    emojiResult: document.getElementById('pd-emoji-result'),
                    wisdom: document.getElementById('pd-wisdom'),
                    fish: document.getElementById('pd-fish'),
                    commentText: document.getElementById('pd-comment-text')
                };

                // Обработчики кнопок
                pdButtons.share.addEventListener('click', function () {
                    playPrisonersDilemma('share');
                });

                pdButtons.steal.addEventListener('click', function () {
                    playPrisonersDilemma('steal');
                });

                pdButtons.negotiate.addEventListener('click', function () {
                    pdElements.slider.style.display = 'block';
                });

                pdButtons.confirm.addEventListener('click', function () {
                    const negotiateValue = document.getElementById('pd-negotiate-value').value;
                    playPrisonersDilemma('negotiate', negotiateValue);
                    pdElements.slider.style.display = 'none';
                });

                pdButtons.tryAgain.addEventListener('click', function () {
                    pdElements.results.style.display = 'none';
                    pdButtons.share.disabled = false;
                    pdButtons.steal.disabled = false;
                    pdButtons.negotiate.disabled = false;
                });

                // Игровая логика для рыбной дилеммы
                function playPrisonersDilemma(playerChoice, negotiateValue = 0) {
                    // Отключаем кнопки
                    pdButtons.share.disabled = true;
                    pdButtons.steal.disabled = true;
                    pdButtons.negotiate.disabled = true;

                    // Выбор ИИ (Барсика)
                    const aiChoices = ['share', 'steal', 'negotiate'];
                    const aiChoice = aiChoices[Math.floor(Math.random() * aiChoices.length)];

                    // Определяем результат
                    let resultText = "";
                    let emojiResult = "";
                    let wisdomGained = 0;
                    let fishGained = 0;

                    if (playerChoice === 'share') {
                        if (aiChoice === 'share') {
                            emojiResult = "🥰";
                            resultText = "Оба поделились - каждый получает по половине рыбы!";
                            wisdomGained = 2;
                            fishGained = 0.5;
                        } else if (aiChoice === 'steal') {
                            emojiResult = "😢";
                            resultText = "Вы поделились, но Барсик украл всю рыбу!";
                            wisdomGained = 1; // Мудрость за доброту
                            fishGained = 0;
                        } else {
                            emojiResult = "🤝";
                            resultText = "Вы поделились, Барсик предложил торг - вы получаете 60% рыбы";
                            wisdomGained = 1;
                            fishGained = 0.6;
                        }
                    } else if (playerChoice === 'steal') {
                        if (aiChoice === 'share') {
                            emojiResult = "😎";
                            resultText = "Вы украли рыбу у доверчивого Барсика!";
                            wisdomGained = -1; // Потеря мудрости за обман
                            fishGained = 1;
                        } else if (aiChoice === 'steal') {
                            emojiResult = "😱";
                            resultText = "Оба попытались украсть - рыба упала в воду!";
                            wisdomGained = -2;
                            fishGained = 0;
                        } else {
                            emojiResult = "😼";
                            resultText = "Вы украли, но Барсик отобрал половину обратно";
                            wisdomGained = -1;
                            fishGained = 0.5;
                        }
                    } else if (playerChoice === 'negotiate') {
                        const playerOffer = negotiateValue / 100;

                        if (aiChoice === 'share') {
                            emojiResult = "🤗";
                            resultText = `Вы предложили отдать ${Math.round(playerOffer * 100)}% - Барсик согласился поделиться`;
                            wisdomGained = 2;
                            fishGained = 0.5 + (0.5 * (1 - playerOffer));
                        } else if (aiChoice === 'steal') {
                            emojiResult = "😾";
                            resultText = `Вы предложили торг, но Барсик украл рыбу!`;
                            wisdomGained = 1; // Мудрость за попытку договориться
                            fishGained = 0;
                        } else {
                            emojiResult = "🙂";
                            const aiOffer = Math.random() * 0.5;
                            resultText = `Вы договорились о сложном разделе рыбы`;
                            wisdomGained = 3;
                            fishGained = 0.5 + (0.5 * (1 - playerOffer)) * 0.7;
                        }
                    }

                    // Показываем результат
                    pdElements.emojiResult.textContent = emojiResult;
                    pdElements.resultText.textContent = resultText;
                    pdElements.wisdom.textContent = `${wisdomGained > 0 ? '+' : ''}${wisdomGained}`;
                    pdElements.fish.textContent = fishGained > 0 ? `+${fishGained.toFixed(1)}` : "0";
                    pdElements.results.style.display = 'block';

                    // Добавляем ресурсы
                    addResources(fishGained, wisdomGained);
                }

                // Логика битвы за диван
                const couchButtons = {
                    claim: document.getElementById('couch-claim'),
                    share: document.getElementById('couch-share'),
                    fight: document.getElementById('couch-fight'),
                    tryAgain: document.getElementById('couch-try-again')
                };

                const couchElements = {
                    results: document.getElementById('couch-results'),
                    emojiResult: document.getElementById('couch-emoji-result'),
                    resultText: document.getElementById('couch-result-text'),
                    wisdom: document.getElementById('couch-wisdom'),
                    fish: document.getElementById('couch-fish')
                };

                couchButtons.claim.addEventListener('click', function () {
                    playCouchGame('claim');
                });

                couchButtons.share.addEventListener('click', function () {
                    playCouchGame('share');
                });

                couchButtons.fight.addEventListener('click', function () {
                    playCouchGame('fight');
                });

                couchButtons.tryAgain.addEventListener('click', function () {
                    couchElements.results.style.display = 'none';
                    couchButtons.claim.disabled = false;
                    couchButtons.share.disabled = false;
                    couchButtons.fight.disabled = false;
                });

                function playCouchGame(playerChoice) {
                    // Отключаем кнопки
                    couchButtons.claim.disabled = true;
                    couchButtons.share.disabled = true;
                    couchButtons.fight.disabled = true;

                    // Выбор ИИ (Пушистика)
                    const aiChoices = ['claim', 'share', 'fight'];
                    const aiChoice = aiChoices[Math.floor(Math.random() * aiChoices.length)];

                    // Определяем результат
                    let resultText = "";
                    let emojiResult = "";
                    let wisdomGained = 0;
                    let fishGained = 0;

                    if (playerChoice === 'claim') {
                        if (aiChoice === 'claim') {
                            emojiResult = "🤕🤕";
                            resultText = "Оба бросились на диван и подрались! Теперь оба сидят на полу.";
                            wisdomGained = -1;
                            fishGained = -0.2; // Потеря рыбы из-за стресса
                        } else if (aiChoice === 'share') {
                            emojiResult = "😼";
                            resultText = "Вы заняли диван первым, а Пушистик уступил!";
                            wisdomGained = 0;
                            fishGained = 0.5; // Хорошее место = больше рыбы от хозяев
                        } else {
                            emojiResult = "😾🤕";
                            resultText = "Вы заняли диван, но Пушистик начал драку и выгнал вас!";
                            wisdomGained = -1;
                            fishGained = -0.3;
                        }
                    } else if (playerChoice === 'share') {
                        if (aiChoice === 'claim') {
                            emojiResult = "😿";
                            resultText = "Вы предложили поделить, но Пушистик занял весь диван!";
                            wisdomGained = 1; // Мудрость за попытку договориться
                            fishGained = 0.1;
                        } else if (aiChoice === 'share') {
                            emojiResult = "😻😻";
                            resultText = "Оба согласились поделить диван! Теперь у каждого есть хорошее место.";
                            wisdomGained = 2;
                            fishGained = 0.4; // Меньше, чем весь диван, но стабильно
                        } else {
                            emojiResult = "😿🤕";
                            resultText = "Вы предложили поделить, но Пушистик начал драку!";
                            wisdomGained = 1;
                            fishGained = -0.2;
                        }
                    } else if (playerChoice === 'fight') {
                        if (aiChoice === 'claim') {
                            emojiResult = "🤕😼";
                            resultText = "Вы начали драку и отобрали диван у Пушистика!";
                            wisdomGained = -1;
                            fishGained = 0.3; // Победа, но с потерями
                        } else if (aiChoice === 'share') {
                            emojiResult = "😼😿";
                            resultText = "Пушистик хотел поделить, но вы начали драку и заняли весь диван!";
                            wisdomGained = -2;
                            fishGained = 0.4;
                        } else {
                            emojiResult = "🤕🤕";
                            resultText = "Оба начали драку! Теперь оба ранены и диван пустует.";
                            wisdomGained = -3;
                            fishGained = -0.5;
                        }
                    }

                    // Показываем результат
                   // Показываем результат
couchElements.emojiResult.textContent = emojiResult;
couchElements.resultText.textContent = resultText;
couchElements.wisdom.textContent = `${wisdomGained > 0 ? '+' : ''}${wisdomGained}`;
couchElements.fish.textContent = fishGained > 0 ? `+${fishGained.toFixed(1)}` : fishGained.toFixed(1);
couchElements.results.style.display = 'block';

// Добавляем ресурсы
addResources(fishGained, wisdomGained);
                }

                // Логика "Охота на мышь"
                const huntButtons = {
                    together: document.getElementById('hunt-together'),
                    alone: document.getElementById('hunt-alone'),
                    tryAgain: document.getElementById('hunt-try-again')
                };

                const huntElements = {
                    results: document.getElementById('hunt-results'),
                    emojiResult: document.getElementById('hunt-emoji-result'),
                    resultText: document.getElementById('hunt-result-text'),
                    wisdom: document.getElementById('hunt-wisdom'),
                    fish: document.getElementById('hunt-fish')
                };

                huntButtons.together.addEventListener('click', function () {
                    playHuntGame('together');
                });

                huntButtons.alone.addEventListener('click', function () {
                    playHuntGame('alone');
                });

                huntButtons.tryAgain.addEventListener('click', function () {
                    huntElements.results.style.display = 'none';
                    huntButtons.together.disabled = false;
                    huntButtons.alone.disabled = false;
                });

                function playHuntGame(playerChoice) {
                    // Отключаем кнопки
                    huntButtons.together.disabled = true;
                    huntButtons.alone.disabled = true;

                    const aiChoices = ['together', 'alone'];
                    const aiChoice = aiChoices[Math.floor(Math.random() * aiChoices.length)];

                    let resultText = "";
                    let emojiResult = "";
                    let wisdomGained = 0;
                    let fishGained = 0;

                    if (playerChoice === 'together') {
                        if (aiChoice === 'together') {
                            emojiResult = "🥩🥩";
                            resultText = "Оба работали вместе — поймали большую мышь! Каждый получает 2 рыбы.";
                            wisdomGained = 3;
                            fishGained = 2;
                        } else {
                            emojiResult = "😿";
                            resultText = "Вы ждали Рыжика, но он охотился один. Вы остались без добычи!";
                            wisdomGained = 1; // За доверие
                            fishGained = 0;
                        }
                    } else {
                        if (aiChoice === 'together') {
                            emojiResult = "😼";
                            resultText = "Рыжик ждал вас, а вы поймали маленькую мышь! Вы получаете 1 рыбу.";
                            wisdomGained = -1;
                            fishGained = 1;
                        } else {
                            emojiResult = "🐭🐭";
                            resultText = "Оба охотились по отдельности — только по маленькой мышке каждому.";
                            wisdomGained = 0;
                            fishGained = 0.5;
                        }
                    }

                    // Показываем результат
                    huntElements.emojiResult.textContent = emojiResult;
                    huntElements.resultText.textContent = resultText;
                    huntElements.wisdom.textContent = `${wisdomGained > 0 ? '+' : ''}${wisdomGained}`;
                    huntElements.fish.textContent = fishGained > 0 ? `+${fishGained.toFixed(1)}` : fishGained.toFixed(1);
                    huntElements.results.style.display = 'block';

                    // Добавляем ресурсы
                    addResources(fishGained, wisdomGained);
                }
                // Логика рыбного аукциона
                const fishButtons = {
                    bid1: document.getElementById('fish-bid-1'),
                    bid3: document.getElementById('fish-bid-3'),
                    bid5: document.getElementById('fish-bid-5'),
                    bidCustom: document.getElementById('fish-bid-custom'),
                    confirmBid: document.getElementById('fish-confirm-bid'),
                    tryAgain: document.getElementById('fish-try-again')
                };

                const fishElements = {
                    customBid: document.getElementById('fish-custom-bid'),
                    results: document.getElementById('fish-results'),
                    emojiResult: document.getElementById('fish-emoji-result'),
                    resultText: document.getElementById('fish-result-text'),
                    wisdom: document.getElementById('fish-wisdom'),
                    fish: document.getElementById('fish-fish')
                };

                fishButtons.bid1.addEventListener('click', function () {
                    playFishAuction(1);
                });

                fishButtons.bid3.addEventListener('click', function () {
                    playFishAuction(3);
                });

                fishButtons.bid5.addEventListener('click', function () {
                    playFishAuction(5);
                });

                fishButtons.bidCustom.addEventListener('click', function () {
                    fishElements.customBid.style.display = 'block';
                });

                fishButtons.confirmBid.addEventListener('click', function () {
                    const bidValue = parseInt(document.getElementById('fish-bid-value').value);
                    if (bidValue >= 1 && bidValue <= 10) {
                        playFishAuction(bidValue);
                    }
                });

                fishButtons.tryAgain.addEventListener('click', function () {
                    fishElements.results.style.display = 'none';
                    fishElements.customBid.style.display = 'none';
                });

              function playFishAuction(playerBid) {
    // Проверяем, что у игрока достаточно рыбы для ставки
    if (playerBid > resources.fish) {
        fishElements.emojiResult.textContent = "😾";
        fishElements.resultText.textContent = "У вас нет столько рыбы для ставки!";
        fishElements.wisdom.textContent = "-1";
        fishElements.fish.textContent = "0";
        fishElements.results.style.display = 'block';
        addResources(0, -1); // Штраф за необдуманную ставку
        return;
    }

    // Генерируем ставку ИИ (от 1 до 8)
    const aiBid = Math.floor(Math.random() * 8) + 1;
    const fishValue = 3; // Реальная ценность рыбы
    
    // Определяем результат
    let resultText = "";
    let emojiResult = "";
    let wisdomGained = 0;
    let fishGained = 0;

    if (playerBid > aiBid) {
        // Игрок выиграл аукцион
        const profit = fishValue - playerBid;
        if (profit > 0) {
            emojiResult = "🎉";
            resultText = `Вы выиграли! Клубок стоил ${fishValue}, вы заплатили ${playerBid}. Ваша прибыль: ${profit}`;
            wisdomGained = 2; // За выгодную сделку
        } else {
            emojiResult = "😼";
            resultText = `Вы переплатили! Клубок стоил ${fishValue}, вы заплатили ${playerBid}. Ваш убыток: ${profit}`;
            wisdomGained = -1; // Штраф за переплату
        }
        fishGained = profit;
    } else if (playerBid < aiBid) {
        // Игрок проиграл аукцион
        emojiResult = "😿";
        resultText = `Вы проиграли. Соперник предложил ${aiBid} против ваших ${playerBid}.`;
        
        // Мудрость зависит от ставки:
        if (playerBid <= fishValue * 0.7) {
            wisdomGained = 1; // За разумную экономию
        } else {
            wisdomGained = 0;
        }
        fishGained = 0;
    } else {
        // Ничья - делим рыбу
        emojiResult = "🤝";
        resultText = `Ничья! Оба предложили ${playerBid}. Вы получаете половину клубка и платите ${playerBid/2}.`;
        const profit = (fishValue / 2) - (playerBid / 2);
        fishGained = profit;
        wisdomGained = 1; // За честную игру
    }

    // Показываем результат
    fishElements.emojiResult.textContent = emojiResult;
    fishElements.resultText.textContent = resultText;
    fishElements.wisdom.textContent = `${wisdomGained > 0 ? '+' : ''}${wisdomGained}`;
    fishElements.fish.textContent = fishGained > 0 ? `+${fishGained.toFixed(1)}` : fishGained.toFixed(1);
    fishElements.results.style.display = 'block';
    
    // Добавляем ресурсы
    addResources(fishGained, wisdomGained);
}
            });
        </script>
</body>

</html>